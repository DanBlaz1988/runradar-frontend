<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RunRadar</title>
    <meta name="description" content="Track market activity and highlight tokens showing real growth with trackable performance data." />

    <style>
      :root {
        --text: rgba(255, 255, 255, 0.92);
        --muted: rgba(255, 255, 255, 0.70);
        --muted2: rgba(255, 255, 255, 0.55);
        --line: rgba(255, 255, 255, 0.12);
        --shadow: 0 20px 60px rgba(0,0,0,0.55);
        --radius: 16px;
        --radius2: 22px;
        --max: 1120px;
        --green1: #00c853;
        --green2: #00e676;
      }

      * { box-sizing: border-box; }
      html { scroll-behavior: smooth; }

      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        background: radial-gradient(1200px 800px at 20% 0%, rgba(0, 200, 83, 0.14), transparent 60%),
                    radial-gradient(1200px 800px at 80% 20%, rgba(0, 230, 118, 0.08), transparent 55%),
                    #0b0f12;
        color: var(--text);
        line-height: 1.45;
      }

      a { color: inherit; text-decoration: none; }
      .wrap { max-width: var(--max); margin: 0 auto; padding: 26px 18px 90px; }

      .nav {
        display:flex; align-items:center; justify-content:space-between;
        padding: 14px 0 18px;
      }

      .brand {
        display:flex; align-items:center; gap:12px;
        font-weight: 900;
        letter-spacing: 0.2px;
      }

      .logo {
        width: 38px; height: 38px; border-radius: 12px;
        background: linear-gradient(135deg, rgba(0,200,83,0.95), rgba(0,230,118,0.85));
        box-shadow: 0 14px 30px rgba(0,0,0,0.35);
        display:flex; align-items:center; justify-content:center;
        color: #061008;
        font-weight: 1000;
      }

      .navLinks { display:flex; gap:10px; align-items:center; }
      .pill {
        padding: 10px 12px;
        border: 1px solid var(--line);
        border-radius: 999px;
        color: var(--muted);
        font-weight: 700;
        font-size: 14px;
        background: rgba(255,255,255,0.03);
      }
      .pill:hover { border-color: rgba(255,255,255,0.22); color: var(--text); }

      .hero {
        padding: 28px 0 24px;
        display:grid;
        grid-template-columns: 1.25fr 0.75fr;
        gap: 18px;
        align-items:start;
      }

      @media (max-width: 980px) {
        .hero { grid-template-columns: 1fr; }
      }

      .card {
        border: 1px solid var(--line);
        border-radius: var(--radius2);
        background: rgba(255,255,255,0.04);
        box-shadow: var(--shadow);
      }

      .heroLeft { padding: 28px 26px; }
      .heroRight { padding: 22px 22px; }

      h1 {
        margin: 0 0 10px;
        font-size: 42px;
        line-height: 1.05;
        letter-spacing: -0.8px;
      }

      @media (max-width: 520px) {
        h1 { font-size: 34px; }
      }

      .sub {
        color: var(--muted);
        font-size: 16px;
        max-width: 60ch;
      }

      .ctaRow { display:flex; gap:12px; margin-top: 18px; flex-wrap: wrap; }
      .btn {
        border: 1px solid rgba(255,255,255,0.14);
        background: rgba(255,255,255,0.06);
        color: var(--text);
        padding: 12px 14px;
        border-radius: 14px;
        font-weight: 900;
        font-size: 15px;
        cursor:pointer;
        display:inline-flex;
        align-items:center;
        gap:8px;
      }
      .btn:hover { border-color: rgba(255,255,255,0.26); }
      .btn.primary {
        background: linear-gradient(135deg, rgba(0,200,83,0.96), rgba(0,230,118,0.86));
        border-color: rgba(0,0,0,0.0);
        color: #061008;
        box-shadow: 0 14px 28px rgba(0,200,83,0.18);
      }

      .micro {
        margin-top: 14px;
        color: var(--muted2);
        font-size: 13px;
      }

      .stats {
        display:grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
        margin-top: 16px;
      }

      .stat {
        border: 1px solid var(--line);
        border-radius: 14px;
        padding: 12px 12px;
        background: rgba(0,0,0,0.18);
      }
      .stat .label { color: var(--muted2); font-weight: 800; font-size: 12px; }
      .stat .val { font-weight: 1000; font-size: 18px; margin-top: 4px; }

      .section { margin-top: 18px; }
      .sectionCard { padding: 22px 22px; }
      .grid3 { display:grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
      @media (max-width: 980px) { .grid3 { grid-template-columns: 1fr; } }

      .mini {
        border: 1px solid var(--line);
        border-radius: 16px;
        padding: 16px 16px;
        background: rgba(0,0,0,0.18);
      }
      .mini h3 { margin: 0 0 6px; font-size: 15px; }
      .mini p { margin: 0; color: var(--muted); font-size: 14px; }

      .pricing {
        display:grid;
        grid-template-columns: 1fr 1fr;
        gap: 12px;
      }
      @media (max-width: 980px) { .pricing { grid-template-columns: 1fr; } }

      .plan {
        border: 1px solid var(--line);
        border-radius: 18px;
        padding: 18px 18px;
        background: rgba(0,0,0,0.20);
      }
      .planTitle { font-weight: 1000; font-size: 16px; }
      .planPrice { font-weight: 1100; font-size: 30px; margin-top: 6px; }
      .planDesc { color: var(--muted); margin-top: 6px; font-size: 14px; }
      .plan ul { margin: 12px 0 0; padding-left: 18px; color: var(--muted); }
      .plan li { margin: 6px 0; }

      .faq { margin-top: 14px; display:grid; gap: 10px; }
      details {
        border: 1px solid var(--line);
        border-radius: 16px;
        padding: 12px 14px;
        background: rgba(0,0,0,0.18);
      }
      summary { cursor:pointer; font-weight: 900; }
      details p { margin: 10px 0 0; color: var(--muted); }

      .footer {
        margin-top: 18px;
        color: var(--muted2);
        font-size: 12px;
        border-top: 1px solid var(--line);
        padding-top: 16px;
      }

      /* Modal */
      .overlay {
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,0.6);
        display: none;
        align-items: center;
        justify-content: center;
        padding: 18px;
        z-index: 1000;
      }
      .overlay.open { display:flex; }
      .modal {
        width: 100%;
        max-width: 520px;
        border: 1px solid var(--line);
        border-radius: 18px;
        background: rgba(15, 20, 24, 0.96);
        box-shadow: var(--shadow);
        overflow:hidden;
      }
      .modalHead {
        padding: 16px 16px;
        display:flex;
        align-items:center;
        justify-content:space-between;
        border-bottom: 1px solid var(--line);
      }
      .modalHead .title {
        font-weight: 1000;
        letter-spacing: -0.2px;
      }
      .closeBtn {
        border: 1px solid rgba(255,255,255,0.16);
        background: rgba(255,255,255,0.06);
        color: var(--text);
        border-radius: 12px;
        padding: 8px 10px;
        cursor:pointer;
        font-weight: 900;
      }
      .modalBody { padding: 16px 16px; }
      .modalText { color: var(--muted); font-size: 14px; margin-bottom: 12px; }

      .formRow { display:flex; gap: 10px; }
      @media (max-width: 520px) { .formRow { flex-direction: column; } }

      .input {
        width: 100%;
        padding: 12px 12px;
        border-radius: 14px;
        border: 1px solid rgba(255,255,255,0.14);
        background: rgba(0,0,0,0.24);
        color: var(--text);
        outline: none;
        font-weight: 800;
      }
      .input:focus { border-color: rgba(0,230,118,0.60); }

      .successBox {
        display:none;
        margin-top: 12px;
        padding: 10px 12px;
        border-radius: 14px;
        border: 1px solid rgba(0,230,118,0.45);
        background: rgba(0,230,118,0.10);
        color: rgba(255,255,255,0.92);
        font-weight: 800;
        font-size: 13px;
      }

      .formHint { margin-top: 10px; color: var(--muted2); font-size: 12px; }
    </style>
  </head>

  <body>
    <div class="wrap">
      <div class="nav">
        <div class="brand">
          <div class="logo">RR</div>
          <div id="brandName">RunRadar</div>
        </div>

        <div class="navLinks">
          <a class="pill" href="#faqSection">FAQ</a>
          <button class="pill" id="navResults" type="button">Results</button>
          <button class="pill" id="navBeta" type="button">Beta Access</button>
        </div>
      </div>

      <div class="hero">
        <div class="card heroLeft">
          <h1 id="headline"></h1>
          <div class="sub" id="subheadline"></div>

          <div class="ctaRow">
            <button class="btn primary" id="ctaPrimary" type="button">Start Free 14-Day Access</button>
            <button class="btn" id="ctaSecondary" type="button">View Live Results</button>
          </div>

          <div class="micro" id="supportLine"></div>

          <div class="stats" id="statsBox" style="display:none;">
            <div class="stat"><div class="label">Detected runs</div><div class="val" id="stDetected">—</div></div>
            <div class="stat"><div class="label">Best run</div><div class="val" id="stBest">—</div></div>
            <div class="stat"><div class="label">Avg run</div><div class="val" id="stAvg">—</div></div>
            <div class="stat"><div class="label">Last run</div><div class="val" id="stLast">—</div></div>
          </div>
        </div>

        <div class="card heroRight">
          <div class="mini">
            <h3 id="priceAnchorText"></h3>
            <p id="trialText"></p>
            <p class="micro" id="noteText"></p>
          </div>

          <div class="section" style="margin-top:12px;">
            <div class="mini">
              <h3>What you get</h3>
              <p>Real market activity, tracked over time. No buy/sell signal — only data.</p>
            </div>
          </div>
        </div>
      </div>

      <section class="section card sectionCard">
        <h2 id="problemTitle"></h2>
        <p class="sub" id="problemText" style="margin:10px 0 0;"></p>
      </section>

      <section class="section card sectionCard">
        <h2 id="howTitle"></h2>
        <div class="grid3" id="howSteps" style="margin-top:12px;"></div>
      </section>

      <section class="section card sectionCard">
        <h2 id="sellTitle"></h2>
        <div class="grid3" id="sellPoints" style="margin-top:12px;"></div>
      </section>

      <section class="section card sectionCard" id="pricingSection">
        <h2 id="pricingTitle"></h2>
        <div class="pricing" style="margin-top:12px;">
          <div class="plan">
            <div class="planTitle">Beta</div>
            <div class="planPrice">$0<span style="font-size:14px;font-weight:800;color:var(--muted);">/14 days</span></div>
            <div class="planDesc">Try the platform free.</div>
            <ul>
              <li>Instant access request</li>
              <li>Real-time tracking</li>
              <li>No payment now</li>
            </ul>
            <div style="margin-top:14px;">
              <button class="btn primary" id="startFromPricing" type="button">Start Free 14-Day Access</button>
            </div>
          </div>

          <div class="plan">
            <div class="planTitle">Pro</div>
            <div class="planPrice">$49<span style="font-size:14px;font-weight:800;color:var(--muted);">/month</span></div>
            <div class="planDesc">Continue after beta with full access.</div>
            <ul>
              <li>Same platform, uninterrupted</li>
              <li>Priority access + updates</li>
              <li>Best pricing for early users</li>
            </ul>
            <div style="margin-top:14px;">
              <a class="btn" id="checkoutBtn" href="#" target="_blank" rel="noopener">Continue After Beta</a>
              <div class="formHint" style="margin-top:10px;">
                (This button will go to your payment page when you add checkout.)
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="sectionCard card sectionCard" id="faqSection">
        <h2 id="faqTitle"></h2>
        <div class="faq" id="faqs"></div>
      </section>

      <div class="footer" id="disclaimer"></div>
    </div>

    <!-- Modal overlay -->
    <div class="overlay" id="overlay" aria-hidden="true">
      <div class="modal" role="dialog" aria-modal="true" aria-label="RunRadar Beta Access">
        <div class="modalHead">
          <div class="title" id="modalTitle">Get free beta access</div>
          <button class="closeBtn" id="closeModal" type="button">Close</button>
        </div>

        <div class="modalBody">
          <div class="modalText" id="modalText"></div>

          <form id="leadForm">
            <div class="formRow">
              <input class="input" id="leadEmail" type="email" placeholder="Your email address" required />
              <button class="btn primary" type="submit" id="leadBtn">Request Access</button>
            </div>

            <div class="successBox" id="successBox">
              ✅ Check your email to confirm. After confirmation, you’ll be sent to Telegram.
            </div>

            <div class="formHint" id="modalPrivacy"></div>
          </form>
        </div>
      </div>
    </div>

    <script src="./config.js"></script>

    <script>
      (function () {
        const C = window.RUNRADAR || {};
        const pick = (v, fallback) => (typeof v === "string" && v.trim() ? v : fallback);

        // Brand + hero copy
        document.title = pick(C.brand, "RunRadar");
        document.getElementById("brandName").textContent = pick(C.brand, "RunRadar");
        document.getElementById("headline").textContent = pick(C.headline, "");
        document.getElementById("subheadline").textContent = pick(C.subheadline, "");
        document.getElementById("supportLine").textContent = pick(C.supportLine, "");

        // Offer text
        document.getElementById("priceAnchorText").textContent = pick(C.priceAnchorText, "");
        document.getElementById("trialText").textContent = pick(C.trialText, "");
        document.getElementById("noteText").textContent = pick(C.noteText, "");

        // CTA labels
        document.getElementById("ctaPrimary").textContent = pick(C.ctaPrimaryText, "Start Free 14-Day Access");
        document.getElementById("ctaSecondary").textContent = pick(C.ctaSecondaryText, "View Live Results");

        // Stats
        const showStats = !!C.showStats && C.fallbackStats;
        const statsBox = document.getElementById("statsBox");
        if (showStats) {
          statsBox.style.display = "grid";
          document.getElementById("stDetected").textContent = C.fallbackStats.detectedRuns ?? "—";
          document.getElementById("stBest").textContent = C.fallbackStats.bestRun ?? "—";
          document.getElementById("stAvg").textContent = C.fallbackStats.avgRun ?? "—";
          document.getElementById("stLast").textContent = C.fallbackStats.lastRun ?? "—";
        }

        // Sections
        document.getElementById("problemTitle").textContent = pick(C.problemTitle, "Most traders enter too late.");
        document.getElementById("problemText").textContent = pick(C.problemText, "");

        document.getElementById("howTitle").textContent = pick(C.howTitle, "How it works");
        const howWrap = document.getElementById("howSteps");
        howWrap.innerHTML = "";
        (C.howSteps || []).forEach((s) => {
          const div = document.createElement("div");
          div.className = "mini";
          div.innerHTML = `<h3>${s.title || ""}</h3><p>${s.text || ""}</p>`;
          howWrap.appendChild(div);
        });

        document.getElementById("sellTitle").textContent = pick(C.sellTitle, "Why traders switch to RunRadar");
        const sellWrap = document.getElementById("sellPoints");
        sellWrap.innerHTML = "";
        (C.sellPoints || []).forEach((s) => {
          const div = document.createElement("div");
          div.className = "mini";
          div.innerHTML = `<h3>${s.title || ""}</h3><p>${s.text || ""}</p>`;
          sellWrap.appendChild(div);
        });

        document.getElementById("pricingTitle").textContent = pick(C.pricingTitle, "Pricing");
        document.getElementById("faqTitle").textContent = pick(C.faqTitle, "FAQ");

        const faqs = document.getElementById("faqs");
        faqs.innerHTML = "";
        (C.faqs || []).forEach((f) => {
          const d = document.createElement("details");
          const s = document.createElement("summary");
          s.textContent = f.q || "";
          const p = document.createElement("p");
          p.textContent = f.a || "";
          d.appendChild(s);
          d.appendChild(p);
          faqs.appendChild(d);
        });

        document.getElementById("disclaimer").textContent = pick(
          C.disclaimer,
          "No buy/sell signal — only data. Crypto is volatile. You are responsible for your decisions."
        );

        // Modal wiring
        const overlay = document.getElementById("overlay");
        const closeBtn = document.getElementById("closeModal");

        document.getElementById("modalTitle").textContent = pick(C.modalTitle, "Get free beta access");
        document.getElementById("modalText").textContent = pick(C.modalText, "Enter your email to request access. You will receive a confirmation email.");
        document.getElementById("modalPrivacy").textContent = pick(C.modalPrivacy, "");

        function openModal() {
          overlay.classList.add("open");
          overlay.setAttribute("aria-hidden", "false");
          setTimeout(() => document.getElementById("leadEmail").focus(), 50);
        }

        function closeModal() {
          overlay.classList.remove("open");
          overlay.setAttribute("aria-hidden", "true");
        }

        // open triggers
        const openTriggers = [
          document.getElementById("ctaPrimary"),
          document.getElementById("ctaSecondary"),
          document.getElementById("navResults"),
          document.getElementById("navBeta"),
          document.getElementById("startFromPricing")
        ];
        openTriggers.forEach((el) => el.addEventListener("click", openModal));

        // close triggers
        closeBtn.addEventListener("click", closeModal);
        overlay.addEventListener("click", (e) => {
          if (e.target === overlay) closeModal();
        });
        window.addEventListener("keydown", (e) => {
          if (e.key === "Escape" && overlay.classList.contains("open")) closeModal();
        });

        // ===== Lead form submit -> Kit subscribe =====
        const leadForm = document.getElementById("leadForm");
        const emailInput = document.getElementById("leadEmail");
        const successBox = document.getElementById("successBox");
        const leadBtn = document.getElementById("leadBtn");

        // Fallback goes directly to your Kit form subscribe endpoint
        const endpoint = pick(C.leadFormEndpoint, "https://runradar.kit.com/ac3ec09ee0/subscribe");
        const toEmail = pick(C.leadToEmail, "");
        const tg = pick(C.telegramUrl, "#");
        const redirectSeconds = Number(C.leadRedirectSeconds || 1);

        leadForm.addEventListener("submit", async (e) => {
          e.preventDefault();
          const email = (emailInput.value || "").trim();
          if (!email) return;

          leadBtn.disabled = true;
          leadBtn.textContent = "Submitting…";

          try {
            if (endpoint) {
              await fetch(endpoint, {
                method: "POST",
                headers: { "Content-Type": "application/x-www-form-urlencoded" },
                body: new URLSearchParams({
                  email_address: email
                })
              });
            } else if (toEmail) {
              const subject = encodeURIComponent("RunRadar Beta Access Request");
              const body = encodeURIComponent(`Please grant beta access.\n\nEmail: ${email}\nSource: runradar landing page`);
              window.location.href = `mailto:${toEmail}?subject=${subject}&body=${body}`;
            }
          } catch (_) {
            // still show confirmation hint
          }

          successBox.style.display = "block";
          // ConvertKit uses double opt-in by default.
          // User must confirm via email; Kit will then redirect to Telegram (configured in Kit form settings).
          leadBtn.textContent = "Check your email to confirm →";
          leadBtn.disabled = true;
        });

        // Initial fade-in
        document.body.style.opacity = 0;
        window.addEventListener("load", () => {
          document.body.style.transition = "opacity 0.7s ease";
          document.body.style.opacity = 1;
        });
      })();
    </script>
  </body>
</html>
