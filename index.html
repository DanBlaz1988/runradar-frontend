<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>RunRadar &ndash; Find SOL Runs Before They Explode</title>
  <meta name="description" content="RunRadar monitors market activity and highlights Solana tokens showing real growth with clear, trackable performance data.">
  <meta property="og:title" content="RunRadar &ndash; Find SOL Runs Before They Explode">
  <meta property="og:description" content="We monitor market activity and highlight tokens showing real growth with clear, trackable performance data.">
  <meta name="twitter:card" content="summary_large_image">
  <link rel="preconnect" href="https://api.telegram.org">
  <link rel="preconnect" href="https://api.allorigins.win">
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    :root {
      --bg: #0a0a0f; --bg-card: #12121a; --bg-modal: #16161f;
      --text: #e8e8f0; --text-muted: #9090a8;
      --accent: #00d084; --accent-dim: rgba(0,208,132,0.15);
      --border: rgba(255,255,255,0.08);
      --radius: 12px; --shadow: 0 4px 24px rgba(0,0,0,0.4);
      --max-w: 900px; --font: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    }
    html { scroll-behavior: smooth; }
    body { background: var(--bg); color: var(--text); font-family: var(--font); line-height: 1.6; min-height: 100vh; }
    .skip-link { position: absolute; top: -40px; left: 0; background: var(--accent); color: #000; padding: 8px 16px; z-index: 100; transition: top .2s; text-decoration: none; font-weight: 700; }
    .skip-link:focus { top: 0; }
    .container { max-width: var(--max-w); margin: 0 auto; padding: 0 20px; }
    nav { padding: 16px 0; border-bottom: 1px solid var(--border); position: sticky; top: 0; background: rgba(10,10,15,0.95); backdrop-filter: blur(8px); z-index: 50; }
    nav .inner { max-width: var(--max-w); margin: 0 auto; padding: 0 20px; display: flex; align-items: center; justify-content: space-between; }
    .nav-brand { font-weight: 700; font-size: 1.2rem; color: var(--accent); text-decoration: none; }
    .nav-cta { background: var(--accent); color: #000; border: none; padding: 8px 20px; border-radius: 6px; font-weight: 600; cursor: pointer; font-size: 0.9rem; }
    .hero { padding: 80px 0 60px; text-align: center; }
    .hero h1 { font-size: clamp(1.8rem, 5vw, 3rem); font-weight: 800; line-height: 1.15; margin-bottom: 20px; }
    .hero .sub { font-size: clamp(1rem, 2.5vw, 1.2rem); color: var(--text-muted); max-width: 600px; margin: 0 auto 12px; }
    .hero .support { font-size: 0.9rem; color: var(--text-muted); margin-bottom: 36px; }
    .cta-group { display: flex; gap: 12px; justify-content: center; flex-wrap: wrap; }
    .btn-primary { background: var(--accent); color: #000; border: none; padding: 14px 28px; border-radius: 8px; font-weight: 700; font-size: 1rem; cursor: pointer; transition: opacity .2s; }
    .btn-primary:hover { opacity: 0.85; }
    .btn-secondary { background: transparent; color: var(--text); border: 1px solid var(--border); padding: 14px 28px; border-radius: 8px; font-weight: 600; font-size: 1rem; cursor: pointer; text-decoration: none; transition: background .2s; display: inline-block; }
    .btn-secondary:hover { background: var(--bg-card); }
    .stats-bar { background: var(--bg-card); border-top: 1px solid var(--border); border-bottom: 1px solid var(--border); padding: 24px 0; }
    .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 16px; text-align: center; }
    .stat-num { font-size: 1.6rem; font-weight: 800; color: var(--accent); }
    .stat-label { font-size: 0.8rem; color: var(--text-muted); margin-top: 2px; }
    section { padding: 64px 0; }
    section.alt-bg { background: var(--bg-card); }
    .section-title { font-size: clamp(1.4rem, 3vw, 2rem); font-weight: 700; margin-bottom: 16px; }
    .section-text { color: var(--text-muted); max-width: 640px; }
    .card-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 20px; margin-top: 36px; }
    .card { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius); padding: 24px; }
    .alt-bg .card { background: var(--bg); }
    .card h3 { font-size: 1rem; font-weight: 700; margin-bottom: 8px; }
    .card p { font-size: 0.9rem; color: var(--text-muted); }
    .steps { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 24px; margin-top: 36px; }
    .step { display: flex; gap: 16px; }
    .step-num { flex-shrink: 0; width: 36px; height: 36px; background: var(--accent-dim); border: 1px solid var(--accent); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; color: var(--accent); font-size: 0.9rem; }
    .step-body h3 { font-size: 0.95rem; font-weight: 700; margin-bottom: 6px; }
    .step-body p { font-size: 0.85rem; color: var(--text-muted); }
    .last-run-card { background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius); padding: 28px; margin-top: 36px; }
    .live-badge { display: inline-flex; align-items: center; gap: 6px; background: var(--accent-dim); border: 1px solid rgba(0,208,132,0.3); border-radius: 20px; padding: 4px 10px; font-size: 0.75rem; font-weight: 600; color: var(--accent); margin-bottom: 16px; }
    .live-dot { width: 7px; height: 7px; border-radius: 50%; background: var(--accent); animation: pulse 2s infinite; }
    @keyframes pulse { 0%,100%{opacity:1} 50%{opacity:0.4} }
    .run-content { font-size: 1rem; line-height: 1.7; white-space: pre-wrap; word-break: break-word; }
    .run-meta { font-size: 0.8rem; color: var(--text-muted); margin-top: 12px; }
    .run-loading { color: var(--text-muted); font-style: italic; }
    .run-link { color: var(--accent); text-decoration: none; }
    .run-link:hover { text-decoration: underline; }
    .price-card { background: var(--bg-card); border: 1px solid var(--accent); border-radius: var(--radius); padding: 36px; max-width: 420px; margin: 36px auto 0; text-align: center; }
    .price-anchor { font-size: 0.9rem; color: var(--text-muted); text-decoration: line-through; margin-bottom: 8px; }
    .price-free { font-size: 2.5rem; font-weight: 800; color: var(--accent); }
    .price-trial { font-size: 0.9rem; color: var(--accent); margin: 8px 0 24px; }
    .price-note { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 24px; }
    .faq-list { margin-top: 24px; }
    details { border: 1px solid var(--border); border-radius: 8px; margin-bottom: 12px; overflow: hidden; }
    summary { padding: 18px 20px; cursor: pointer; font-weight: 600; list-style: none; display: flex; justify-content: space-between; align-items: center; user-select: none; }
    summary::-webkit-details-marker { display: none; }
    summary::after { content: '+'; color: var(--accent); font-size: 1.2rem; margin-left: 12px; flex-shrink: 0; }
    details[open] summary::after { content: '\2212'; }
    details p { padding: 0 20px 18px; color: var(--text-muted); }
    footer { padding: 32px 0; border-top: 1px solid var(--border); text-align: center; color: var(--text-muted); font-size: 0.8rem; }
    .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.7); z-index: 200; display: none; align-items: center; justify-content: center; padding: 20px; }
    .modal-overlay.open { display: flex; }
    .modal-box { background: var(--bg-modal); border: 1px solid var(--border); border-radius: var(--radius); width: 100%; max-width: 480px; max-height: 90vh; overflow-y: auto; padding: 32px; position: relative; box-shadow: var(--shadow); }
    .modal-close-btn { position: absolute; top: 12px; right: 16px; background: none; border: none; color: var(--text-muted); font-size: 1.5rem; cursor: pointer; line-height: 1; padding: 4px; }
    .modal-close-btn:hover { color: var(--text); }
    .email-form { display: flex; flex-direction: column; gap: 12px; }
    .email-form input[type="email"] { background: var(--bg); border: 1px solid var(--border); border-radius: 6px; color: var(--text); padding: 12px 16px; font-size: 1rem; width: 100%; }
    .email-form input[type="email"]:focus { outline: 2px solid var(--accent); outline-offset: -2px; }
    .email-form button[type="submit"] { background: var(--accent); color: #000; border: none; border-radius: 6px; padding: 13px; font-weight: 700; font-size: 1rem; cursor: pointer; }
    .email-form button[type="submit"]:hover { opacity: 0.85; }
    .form-privacy { font-size: 0.78rem; color: var(--text-muted); text-align: center; }
    @media (max-width: 600px) {
      .hero { padding: 52px 0 40px; }
      section { padding: 48px 0; }
      .modal-box { padding: 24px 20px; }
    }
  </style>
  <script src="config.js" defer></script>
</head>
<body>
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <nav>
    <div class="inner">
      <a href="#" class="nav-brand" id="nav-brand">RunRadar</a>
      <button class="nav-cta" id="nav-cta-btn" type="button">Get Access</button>
    </div>
  </nav>

  <header class="hero container">
    <h1 id="hero-headline"></h1>
    <p class="sub" id="hero-sub"></p>
    <p class="support" id="hero-support"></p>
    <div class="cta-group">
      <button class="btn-primary" id="hero-cta-primary" type="button"></button>
      <a href="#last-run" class="btn-secondary" id="hero-cta-secondary"></a>
    </div>
  </header>

  <div class="stats-bar" id="stats-section" aria-label="Key statistics"></div>

  <main id="main-content">
    <section id="problem-section">
      <div class="container">
        <h2 class="section-title" id="problem-title"></h2>
        <p class="section-text" id="problem-text"></p>
      </div>
    </section>

    <section id="how-section" class="alt-bg">
      <div class="container">
        <h2 class="section-title" id="how-title"></h2>
        <div class="steps" id="how-steps"></div>
      </div>
    </section>

    <section id="sell-section">
      <div class="container">
        <h2 class="section-title" id="sell-title"></h2>
        <div class="card-grid" id="sell-cards"></div>
      </div>
    </section>

    <section id="features-section" class="alt-bg">
      <div class="container">
        <h2 class="section-title" id="features-title"></h2>
        <div class="card-grid" id="features-cards"></div>
      </div>
    </section>

    <section id="last-run">
      <div class="container">
        <h2 class="section-title">Последен верифициран Run</h2>
        <div class="last-run-card" role="region" aria-live="polite" aria-label="Last verified run">
          <div class="live-badge"><span class="live-dot" aria-hidden="true"></span> Live</div>
          <div id="last-run-content" class="run-content run-loading">Loading latest run&hellip;</div>
          <div id="last-run-meta" class="run-meta"></div>
        </div>
      </div>
    </section>

    <section id="pricing-section" class="alt-bg">
      <div class="container" style="text-align:center">
        <h2 class="section-title">Get Free Beta Access</h2>
        <div class="price-card">
          <p class="price-anchor" id="price-anchor"></p>
          <div class="price-free">$0</div>
          <p class="price-trial" id="price-trial"></p>
          <p class="price-note" id="price-note"></p>
          <button class="btn-primary" id="pricing-cta" type="button" style="width:100%"></button>
        </div>
      </div>
    </section>

    <section id="faq-section">
      <div class="container">
        <h2 class="section-title" id="faq-title"></h2>
        <div class="faq-list" id="faq-items"></div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <p id="disclaimer"></p>
    </div>
  </footer>

  <div class="modal-overlay" id="modal-overlay" role="dialog" aria-modal="true" aria-label="Get Access" aria-hidden="true">
    <div class="modal-box">
      <button class="modal-close-btn" id="modal-close" type="button" aria-label="Close">&times;</button>
      <!-- ConvertKit form (or email fallback) is rendered here directly — no surrounding title/text so the form is immediately visible without scrolling -->
      <div id="ck-form-container"></div>
    </div>
  </div>

  <script>
    (function () {
      'use strict';

      function init() {
        var C = window.RUNRADAR;
        if (!C) { setTimeout(init, 50); return; }

        document.getElementById('nav-brand').textContent = C.brand;
        document.getElementById('nav-cta-btn').textContent = C.ctaPrimaryText;
        document.getElementById('hero-headline').textContent = C.headline;
        document.getElementById('hero-sub').textContent = C.subheadline;
        document.getElementById('hero-support').textContent = C.supportLine;
        document.getElementById('hero-cta-primary').textContent = C.ctaPrimaryText;
        document.getElementById('hero-cta-secondary').textContent = C.ctaSecondaryText;

        if (C.showStats && C.fallbackStats) {
          var s = C.fallbackStats;
          document.getElementById('stats-section').innerHTML =
            '<div class="container"><div class="stats-grid">' +
            '<div><div class="stat-num">' + esc(String(s.detectedRuns)) + '+</div><div class="stat-label">Detected Runs</div></div>' +
            '<div><div class="stat-num">' + esc(String(s.bestRun)) + '</div><div class="stat-label">Best Run</div></div>' +
            '<div><div class="stat-num">' + esc(String(s.avgRun)) + '</div><div class="stat-label">Avg Run</div></div>' +
            '<div><div class="stat-num" id="last-run-stat">' + esc(String(s.lastRun)) + '</div><div class="stat-label">Last Run</div></div>' +
            '</div></div>';
        }

        document.getElementById('problem-title').textContent = C.problemTitle;
        document.getElementById('problem-text').textContent = C.problemText;

        document.getElementById('how-title').textContent = C.howTitle;
        document.getElementById('how-steps').innerHTML = C.howSteps.map(function (s, i) {
          return '<div class="step"><div class="step-num" aria-hidden="true">' + (i + 1) +
            '</div><div class="step-body"><h3>' + esc(s.title) + '</h3><p>' + esc(s.text) + '</p></div></div>';
        }).join('');

        document.getElementById('sell-title').textContent = C.sellTitle;
        document.getElementById('sell-cards').innerHTML = C.sellPoints.map(function (p) {
          return '<div class="card"><h3>' + esc(p.title) + '</h3><p>' + esc(p.text) + '</p></div>';
        }).join('');

        document.getElementById('features-title').textContent = C.featuresTitle;
        document.getElementById('features-cards').innerHTML = C.features.map(function (f) {
          return '<div class="card"><h3>' + esc(f.title) + '</h3><p>' + esc(f.text) + '</p></div>';
        }).join('');

        document.getElementById('price-anchor').textContent = C.priceAnchorText;
        document.getElementById('price-trial').textContent = C.trialText;
        document.getElementById('price-note').textContent = C.noteText;
        document.getElementById('pricing-cta').textContent = C.ctaPrimaryText;

        document.getElementById('faq-title').textContent = C.faqTitle;
        document.getElementById('faq-items').innerHTML = C.faqs.map(function (f) {
          return '<details><summary>' + esc(f.q) + '</summary><p>' + esc(f.a) + '</p></details>';
        }).join('');

        document.getElementById('disclaimer').textContent = C.disclaimer;

        setupModal(C);
        fetchLastRun(C);
      }

      function esc(str) {
        return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');
      }

      function setupModal(C) {
        var overlay = document.getElementById('modal-overlay');
        var container = document.getElementById('ck-form-container');

        if (C.convertKitFormUrl) {
          var script = document.createElement('script');
          script.async = true;
          script.src = C.convertKitFormUrl;
          container.appendChild(script);
        } else {
          container.innerHTML =
            '<form class="email-form" id="email-form" novalidate>' +
            '<input type="email" placeholder="Your email address" required autocomplete="email" aria-label="Email address">' +
            '<button type="submit">' + esc(C.ctaPrimaryText) + '</button>' +
            '<p class="form-privacy">' + esc(C.modalPrivacy) + '</p>' +
            '</form>';

          document.getElementById('email-form').addEventListener('submit', function (e) {
            e.preventDefault();
            var email = this.querySelector('input[type="email"]').value;
            if (C.leadFormEndpoint) {
              fetch(C.leadFormEndpoint, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ email: email })
              }).then(function () {
                window.location.href = C.telegramUrl;
              }).catch(function () {
                window.location.href = 'mailto:' + C.leadToEmail +
                  '?subject=Beta+Access&body=My+email:+' + encodeURIComponent(email);
              });
            } else {
              setTimeout(function () { window.location.href = C.telegramUrl; },
                (C.leadRedirectSeconds || 1) * 1000);
            }
          });
        }

        function openModal() {
          overlay.classList.add('open');
          overlay.setAttribute('aria-hidden', 'false');
          document.body.style.overflow = 'hidden';
          document.getElementById('modal-close').focus();
        }

        function closeModal() {
          overlay.classList.remove('open');
          overlay.setAttribute('aria-hidden', 'true');
          document.body.style.overflow = '';
        }

        document.getElementById('modal-close').addEventListener('click', closeModal);
        overlay.addEventListener('click', function (e) { if (e.target === overlay) closeModal(); });
        document.addEventListener('keydown', function (e) { if (e.key === 'Escape') closeModal(); });

        ['nav-cta-btn', 'hero-cta-primary', 'pricing-cta'].forEach(function (id) {
          var el = document.getElementById(id);
          if (el) el.addEventListener('click', openModal);
        });
      }

      function fetchLastRun(C) {
        var contentEl = document.getElementById('last-run-content');
        var metaEl = document.getElementById('last-run-meta');
        var channelUsername = C.telegramChannelUsername || 'solrunresults';
        var telegramUrl = C.telegramUrl || ('https://t.me/' + channelUsername);

        function showFallback() {
          contentEl.classList.remove('run-loading');
          contentEl.innerHTML = 'Latest run data is currently unavailable. ' +
            '<a href="' + esc(telegramUrl) + '" target="_blank" rel="noopener noreferrer" class="run-link">View live results on Telegram &#8594;</a>';
          var lastRun = (C.fallbackStats && C.fallbackStats.lastRun) ? C.fallbackStats.lastRun : 'recently';
          metaEl.textContent = 'Last logged: ' + lastRun;
        }

        function showResult(text, dateStr) {
          contentEl.classList.remove('run-loading');
          contentEl.textContent = text;
          if (dateStr) {
            try { metaEl.textContent = 'Last updated: ' + new Date(dateStr).toLocaleString(); }
            catch (e) { metaEl.textContent = 'Last updated: ' + dateStr; }
          }
        }

        function fetchWithTimeout(url, ms) {
          var fetchPromise = fetch(url);
          var timeoutPromise = new Promise(function (_, reject) {
            setTimeout(function () { reject(new Error('timeout')); }, ms);
          });
          return Promise.race([fetchPromise, timeoutPromise]);
        }

        var token = C.telegramBotToken;
        var channelId = C.telegramChannelId || '-1003820274962';

        var p = token
          ? fetchWithTimeout(
              'https://api.telegram.org/bot' + encodeURIComponent(token) +
              // getUpdates with channel_post filter; requires bot to be added to the channel.
              // Returns the most recent channel post update.
              '/getUpdates?allowed_updates=channel_post&limit=10', 8000)
            .then(function (r) { return r.json(); })
            .then(function (d) {
              if (!d.ok || !d.result || !d.result.length) return false;
              // Filter updates to the configured channel and find the latest post
              var posts = d.result.filter(function (item) {
                var post = item.channel_post;
                return post && String(post.chat && post.chat.id) === String(channelId);
              });
              if (!posts.length) return false;
              var post = posts[posts.length - 1].channel_post;
              var text = post.text;
              if (!text) return false;
              showResult(text, post.date ? new Date(post.date * 1000).toISOString() : null);
              return true;
            }).catch(function () { return false; })
          : Promise.resolve(false);

        p.then(function (ok) {
          if (ok) return;
          var proxyUrl = 'https://api.allorigins.win/get?url=' +
            encodeURIComponent('https://t.me/s/' + channelUsername);
          fetchWithTimeout(proxyUrl, 8000)
            .then(function (r) { return r.json(); })
            .then(function (d) {
              if (!d.contents) return showFallback();
              var doc = new DOMParser().parseFromString(d.contents, 'text/html');
              var msgs = doc.querySelectorAll('.tgme_widget_message_text');
              if (!msgs.length) return showFallback();
              var text = msgs[msgs.length - 1].textContent.trim();
              if (!text) return showFallback();
              var timeEl = doc.querySelector('.tgme_widget_message_date time');
              showResult(text, timeEl ? timeEl.getAttribute('datetime') : null);
            })
            .catch(function () { showFallback(); });
        });
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
      } else {
        init();
      }
    }());
  </script>
</body>
</html>
